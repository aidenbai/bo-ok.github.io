<!DOCTYPE html>
<!--
          _____                    _____                    _____                _____                    _____          
         /\    \                  /\    \                  /\    \              /\    \                  /\    \         
        /::\____\                /::\    \                /::\    \            /::\    \                /::\    \        
       /:::/    /               /::::\    \              /::::\    \           \:::\    \              /::::\    \       
      /:::/    /               /::::::\    \            /::::::\    \           \:::\    \            /::::::\    \      
     /:::/    /               /:::/\:::\    \          /:::/\:::\    \           \:::\    \          /:::/\:::\    \     
    /:::/____/               /:::/__\:::\    \        /:::/__\:::\    \           \:::\    \        /:::/__\:::\    \    
   /::::\    \              /::::\   \:::\    \      /::::\   \:::\    \          /::::\    \      /::::\   \:::\    \   
  /::::::\____\________    /::::::\   \:::\    \    /::::::\   \:::\    \        /::::::\    \    /::::::\   \:::\    \  
 /:::/\:::::::::::\    \  /:::/\:::\   \:::\____\  /:::/\:::\   \:::\    \      /:::/\:::\    \  /:::/\:::\   \:::\    \ 
/:::/  |:::::::::::\____\/:::/  \:::\   \:::|    |/:::/  \:::\   \:::\____\    /:::/  \:::\____\/:::/__\:::\   \:::\____\
\::/   |::|~~~|~~~~~     \::/   |::::\  /:::|____|\::/    \:::\  /:::/    /   /:::/    \::/    /\:::\   \:::\   \::/    /
 \/____|::|   |           \/____|:::::\/:::/    /  \/____/ \:::\/:::/    /   /:::/    / \/____/  \:::\   \:::\   \/____/ 
       |::|   |                 |:::::::::/    /            \::::::/    /   /:::/    /            \:::\   \:::\    \     
       |::|   |                 |::|\::::/    /              \::::/    /   /:::/    /              \:::\   \:::\____\    
       |::|   |                 |::| \::/____/               /:::/    /    \::/    /                \:::\   \::/    /    
       |::|   |                 |::|  ~|                    /:::/    /      \/____/                  \:::\   \/____/     
       |::|   |                 |::|   |                   /:::/    /                                 \:::\    \         
       \::|   |                 \::|   |                  /:::/    /                                   \:::\____\        
        \:|   |                  \:|   |                  \::/    /                                     \::/    /        
         \|___|                   \|___|                   \/____/                                       \/____/         

                Welcome to the background mechanics of the Krate website. Now get out of here you stalker!
-->
<head>
<link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
<meta name="theme-color" content="#ffffff">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>
<title>Kʀᴀᴛᴇ</title>	
</head>
	<center>
		<br>
		<a href="https://boxkrate.github.io/"><img src="/Krate.png" alt="KRATE"></a>
		<body background="/KrateBG.png">
			<br>
			<br>
			<div class="panel panel-default">
			<div class=panel-body>
				<div class=form-group>

			<div class="g-recaptcha" data-sitekey="6Lcl2h0UAAAAAK-dFSlbhjflC2GtYhD-xs2iK7Yh"></div>
					<script type ="text/php">
					<?php

echo "Your IP is";

echo $_SERVER["REMOTE_ADDR"];

function get_ip_address() {
  // check for shared internet/ISP IP
  if (!empty($_SERVER['HTTP_CLIENT_IP']) && $this->validate_ip($_SERVER['HTTP_CLIENT_IP']))
   return $_SERVER['HTTP_CLIENT_IP'];

  // check for IPs passing through proxies
  if (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
   // check if multiple ips exist in var
    $iplist = explode(',', $_SERVER['HTTP_X_FORWARDED_FOR']);
    foreach ($iplist as $ip) {
     if ($this->validate_ip($ip))
      return $ip;
    }
   }

  if (!empty($_SERVER['HTTP_X_FORWARDED']) && $this->validate_ip($_SERVER['HTTP_X_FORWARDED']))
   return $_SERVER['HTTP_X_FORWARDED'];
  if (!empty($_SERVER['HTTP_X_CLUSTER_CLIENT_IP']) && $this->validate_ip($_SERVER['HTTP_X_CLUSTER_CLIENT_IP']))
   return $_SERVER['HTTP_X_CLUSTER_CLIENT_IP'];
  if (!empty($_SERVER['HTTP_FORWARDED_FOR']) && $this->validate_ip($_SERVER['HTTP_FORWARDED_FOR']))
   return $_SERVER['HTTP_FORWARDED_FOR'];
  if (!empty($_SERVER['HTTP_FORWARDED']) && $this->validate_ip($_SERVER['HTTP_FORWARDED']))
   return $_SERVER['HTTP_FORWARDED'];

  // return unreliable ip since all else failed
   return $_SERVER['REMOTE_ADDR'];
 }

function validate_ip($ip) {
     if (filter_var($ip, FILTER_VALIDATE_IP, 
                         FILTER_FLAG_IPV4 | 
                         FILTER_FLAG_IPV6 |
                         FILTER_FLAG_NO_PRIV_RANGE | 
                         FILTER_FLAG_NO_RES_RANGE) === false)
					</script>
					</body>
</html>
			
